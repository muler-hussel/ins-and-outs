# AI 事件脉络生成平台

本项目是一个基于 **React + NestJS + MongoDB + OpenAI+Graphql** 构建的智能事件生成与管理平台。用户可通过自然语言输入关键词、时间范围、风格等参数，由 AI 自动生成事件脉络，并支持收藏、自动更新与频率设置，实现对复杂新闻事件的持续追踪和结构化理解。


# 🚀 项目功能概览

### 🔐 用户登录

-   使用 [Clerk](https://clerk.dev/) 实现用户身份认证
-   登录后可访问完整功能：生成新闻、收藏、设置自动更新等
    

### ✍️ 事件脉络生成

-   点击“新建生成”进入 AI 生成界面
-   填写关键词、侧重点、时间范围、详细程度、风格等信息
-   提交后，由 OpenAI 模型生成包含上下文的事件描述
    

### 🔄 重新生成

-   可对已填信息修改后重新生成新的事件版本
    

### ⭐ 收藏功能

-   可收藏事件结果，设置事件标题
-   收藏时可开启自动更新，并配置更新频率与时间范围
    

### 🧭 标题导航与事件归档

-   左侧边栏展示所有已收藏的事件标题
-   点击标题查看历史生成与自动更新结果
-   标题旁支持设置（编辑自动更新参数或删除）
    

### 🏠 返回主页

-   所有历史生成的事件统一展示在首页聊天界面
-   从任意页面点击返回主页，即可回到总览视图

## 📦 技术栈

| 技术 | 说明 |
|:-----|:-----|
| React | 前端构建框架 |
| NestJS| 后端服务框架 |
| MongoDB| 数据持久化 |
| OpenAI API| AI 生成事件逻辑 |
| Apollo Client| GraphQL通信 |
| GraphQL Subscription| 实时推送自动更新的新闻 |

## 本地运行指南

**1. 克隆项目**

    git clone https://github.com/your-username/your-repo-name.git
    cd your-repo-name
**2. 启动开发环境**

    # 后端
    cd ../backend
    npm run start:dev
    
	#前端
	cd ../frontend
	npm run dev



## 🧩 AI 任务逻辑说明

-   请求发送至 `/generate-news`（GraphQL mutation）
    
-   输入参数包括：
    
    -   关键词、时间单位与跨度
    -   内容风格、侧重点、字数控制
        
-   后端构建 prompt 后调用 OpenAI API
    
-   返回内容保存至 MongoDB 并推送至前端

## 🔄 自动更新逻辑

-   每个收藏标题可以设置自动更新
    
-   后端基于配置定时触发生成逻辑
    
-   生成后通过 GraphQL Subscription 通知前端
    
-   前端接收新事件，更新当前视图或提醒用户

## 🧪 尚待完成

-   调取RSS API，获取最新新闻，优化自动更新逻辑：

    -   自动更新前先检查是否有最新的新闻，没有则直接重置自动更新事件
    -   如果有新闻，则将相关新闻或链接也作为prompt传送给chatGPT，生成新的事件脉络。
